(this.webpackJsonpresort=this.webpackJsonpresort||[]).push([[0],{104:function(e,t,a){},198:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(81),l=a.n(c),o=a(2);a(104);function s(e){var t=e.children,a=e.hero;return r.a.createElement("header",{className:a},t)}function i(e){var t=e.children,a=e.title,n=e.subtitle;return r.a.createElement("div",{className:"banner"},r.a.createElement("h1",null,a),r.a.createElement("div",null),r.a.createElement("p",null,n),t)}s.defaultProps={hero:"defaultHero"};var m=a(11),u=a(12),p=a(14),E=a(13),f=a(15),d=a(8);function h(e){var t=e.title;return r.a.createElement("div",{className:"section-title"},r.a.createElement("h4",null,t),r.a.createElement("div",null))}n.Component;var b=a(46),g=a(47),v=a.n(g),y=a(18),N=a(82),O=a(95),j=Object(O.a)({space:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_SPACE,accessToken:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_ACCESS_TOKEN});function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){Object(b.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=r.a.createContext(),C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={rooms:[],sortedRooms:[],featuredRooms:[],loading:!0,type:"all",capacity:1,price:0,minPrice:0,maxPrice:0,minSize:0,maxSize:0,breakfast:!1,pets:!1},a.getData=Object(N.a)(v.a.mark((function e(){var t,n,r,c,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.getEntries({content_type:"restaurant",order:"-sys.createdAt"});case 3:t=e.sent,console.log(t),n=a.formatData(t.items),r=n.filter((function(e){return!0===e.featured})),c=Math.max.apply(Math,Object(y.a)(n.map((function(e){return e.price})))),l=Math.max.apply(Math,Object(y.a)(n.map((function(e){return e.size})))),a.setState({rooms:n,featuredRooms:r,sortedRooms:n,loading:!1,price:c,maxPrice:c,maxSize:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),a.getRoom=function(e){return Object(y.a)(a.state.rooms).find((function(t){return t.slug===e}))},a.handleChange=function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;console.log(r,n),a.setState(Object(b.a)({},r,n),a.filterRooms)},a.filterRooms=function(){var e=a.state,t=e.rooms,n=e.type,r=e.capacity,c=e.price,l=e.minSize,o=e.maxSize,s=e.breakfast,i=e.pets,m=Object(y.a)(t);r=parseInt(r),c=parseInt(c),"all"!==n&&(m=m.filter((function(e){return e.type===n}))),1!==r&&(m=m.filter((function(e){return e.capacity>=r}))),m=(m=m.filter((function(e){return e.price<=c}))).filter((function(e){return e.size>=l&&e.size<=o})),s&&(m=m.filter((function(e){return!0===e.breakfast}))),i&&(m=m.filter((function(e){return!0===e.pets}))),a.setState({sortedRooms:m})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"formatData",value:function(e){return e.map((function(e){var t=e.sys.id,a=e.fields.images.map((function(e){return e.fields.file.url}));return x({},e.fields,{images:a,id:t})}))}},{key:"render",value:function(){return r.a.createElement(w.Provider,{value:x({},this.state,{getRoom:this.getRoom,handleChange:this.handleChange})},this.props.children)}}]),t}(n.Component),R=w.Consumer;var P=a(87),S=a.n(P);function z(){return r.a.createElement("div",{className:"loading"},r.a.createElement("h4",null,"Rooms data loading..."),r.a.createElement("img",{src:S.a,alt:""}))}var A=a(31),F=a.n(A),D=a(6),_=a.n(D);function M(e){var t=e.room,a=t.name,n=t.slug,c=t.images,l=(t.price,t.discount);return r.a.createElement("article",{className:"room"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{src:c[0]||F.a,alt:"single room"}),r.a.createElement("div",{className:"price-top"},r.a.createElement("h6",null,l,"%"),r.a.createElement("p",null,"discount")),r.a.createElement(o.b,{to:"/restaurants/".concat(n),className:"btn-primary room-link"},"Featured")),r.a.createElement("p",{className:"room-info"},a))}M.prototype={room:_.a.shape({name:_.a.string.isRequired,slug:_.a.string.isRequired,images:_.a.arrayOf(_.a.string).isRequired,price:_.a.string.isRequired})};var T=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.context,t=e.loading,a=e.featuredRooms;return a=a.map((function(e){return r.a.createElement(M,{key:e.id,room:e})})),r.a.createElement("section",{className:"featured-rooms"},r.a.createElement(h,{title:"Today's Special"}),r.a.createElement("div",{className:"featured-rooms-center"},t?r.a.createElement("loading",null):a))}}]),t}(n.Component);function B(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"footer-distributed"},r.a.createElement("div",{className:"footer-left"},r.a.createElement("h3",null,"Newari ",r.a.createElement("span",null,"Khaja Ghar")),r.a.createElement("p",{className:"footer-links"},r.a.createElement(o.b,{to:"#"},"Home"),r.a.createElement(o.b,{to:"/restaurants"},"foods"),r.a.createElement(o.b,{to:"#"},"About"),r.a.createElement(o.b,{to:"#"},"Faq"),r.a.createElement(o.b,{to:"#"},"Contact")),r.a.createElement("p",{className:"footer-company-name"},"Newari Khaja Ghar \xa9 2020")),r.a.createElement("div",{className:"footer-center"},r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-map-marker"}),r.a.createElement("p",null,r.a.createElement("span",null,"New Road, Nepal"),"khajaghar@gmail.com")),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-phone"}),r.a.createElement("p",null,"+977 9843410568")),r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-envelope"}),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:contact@newarirestaurant.com"},"contact@newarirestaurant.com")))),r.a.createElement("div",{className:"footer-right"},r.a.createElement("p",{className:"footer-company-about"},r.a.createElement("span",null,"About the company"),"Newari Khaja Ghar is online authentic newari food portal. You can call us or message us to order food at your destination."),r.a.createElement("div",{className:"footer-icons"},r.a.createElement(o.b,{to:"#"},r.a.createElement(d.d,null)),r.a.createElement(o.b,{to:"#"},r.a.createElement(d.g,null)),r.a.createElement(o.b,{to:"#"},r.a.createElement(d.i,null)),r.a.createElement(o.b,{to:"#"},r.a.createElement(d.e,null))))),r.a.createElement("div",{className:"copyright"},"Newari Khaja Ghar \xa9 2020"))}T.contextType=w;var I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null,r.a.createElement(i,{title:"Newari authentic food at your door step",subtitle:"Order online, Lunch starting at Rs.150"},r.a.createElement(o.b,{to:"/restaurants",className:"btn-primary"},"Our Special Menu"))),r.a.createElement(T,null),r.a.createElement(B,null))},K=function(e,t){return Object(y.a)(new Set(e.map((function(e){return e[t]}))))},q=function(e){var t=e.rooms,a=Object(n.useContext)(w),c=a.handleChange,l=a.type,o=(a.capacity,a.price),s=a.minPrice,i=a.maxPrice,m=a.minSize,u=a.maxSize,p=(a.breakfast,a.dinner,K(t,"type"));p=(p=["all"].concat(Object(y.a)(p))).map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}));var E=K(t,"capacity");return E=E.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("section",{className:"filter-container"},r.a.createElement(h,{title:"search Foods"}),r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"type"},"Foods type"),r.a.createElement("select",{name:"type",id:"type",onChange:c,className:"form-control",value:l},p)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"Min food price $",o),r.a.createElement("input",{type:"range",name:"price",min:s,max:i,id:"price",value:o,onChange:c,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"price"},"Price range "),r.a.createElement("div",{className:"size-inputs"},r.a.createElement("input",{type:"number",name:"minSize",value:m,onChange:c,className:"size-input"}),r.a.createElement("input",{type:"number",name:"maxSize",value:u,onChange:c,className:"size-input"})))))},G=function(e){var t=e.rooms;return 0===t.length?r.a.createElement("div",{className:"empty-search"},r.a.createElement("h3",null,"unfortunately no foods matched your search parameters")):r.a.createElement("section",{className:"roomslist"},r.a.createElement("div",{className:"roomslist-center"},t.map((function(e){return r.a.createElement(M,{key:e.id,room:e})}))))};var L,U=(L=function(e){var t=e.context,a=t.loading,n=t.sortedRooms,c=t.rooms;return a?r.a.createElement(z,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{rooms:c}),r.a.createElement(G,{rooms:n}))},function(e){return r.a.createElement(R,null,(function(t){return r.a.createElement(L,Object.assign({},e,{context:t}))}))}),H=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,{hero:"roomsHero"},r.a.createElement(i,{title:"our Menu"},r.a.createElement(o.b,{to:"/",className:"btn-primary"},"return home"))),r.a.createElement(U,null),r.a.createElement(B,null))},J=a(96),V=a(90),W=a.n(V),$=a(91);function Y(){var e=Object($.a)(["\n\tmin-height: 60vh;\n\tbackground: url(",") center/cover no-repeat;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n"]);return Y=function(){return e},e}var Q=a(92).a.header(Y(),(function(e){return e.img?e.img:F.a})),X=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(E.a)(t).call(this,e))).state={slug:a.props.match.params.slug,defaultBcg:W.a},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=(0,this.context.getRoom)(this.state.slug);if(!e)return r.a.createElement("div",{className:"error"},r.a.createElement("h3",null,"No such room could be found..."),r.a.createElement(o.b,{to:"/restaurants",className:"btn-primary"},"Back to Restaurants"));var t=e.name,a=e.description,n=(e.capacity,e.address),c=e.discount,l=e.extras,s=(e.breakfast,e.pets,e.images),m=Object(J.a)(s),u=m[0],p=m.slice(1);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,{img:u||this.state.defaultBcg},r.a.createElement(i,{title:"".concat(t," restaurant")},r.a.createElement(o.b,{to:"/restaurants",className:"btn-primary"},"Back to restaurants"))),r.a.createElement("section",{className:"single-room"},r.a.createElement("div",{className:"single-room-images"},p.map((function(e,a){return r.a.createElement("img",{key:a,src:e,alt:t})}))),r.a.createElement("div",{className:"single-room-info"},r.a.createElement("article",{className:"desc"},r.a.createElement("h3",null,"details"),r.a.createElement("p",null,a)),r.a.createElement("article",{className:"info"},r.a.createElement("h3",null,"Info"),r.a.createElement("h6",null,"Address: ",n),r.a.createElement("h6",null,"Special Discount: ",c,"%")))),r.a.createElement("section",{className:"room-extras"},r.a.createElement("h6",null,"extras"),r.a.createElement("ul",{className:"extras"},l.map((function(e,t){return r.a.createElement("li",{key:t},"- ",e," ")})))),r.a.createElement(B,null))}}]),t}(n.Component);X.contextType=w;var Z=function(){return r.a.createElement(s,null,r.a.createElement(i,{title:"404",subtitle:"page not found"},r.a.createElement(o.b,{to:"/",className:"btn-primary"},"return home")))},ee=a(17),te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.handleToggle=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"nav-header"},r.a.createElement(o.b,{to:"/",className:"logo"},r.a.createElement("h3",null,"Newari Khaja Ghar")),r.a.createElement("button",{type:"button",className:"nav-btn",onClick:this.handleToggle},r.a.createElement(d.a,{className:"nav-icon"}))),r.a.createElement("ul",{className:this.state.isOpen?"nav-links show-nav":"nav-links"},r.a.createElement("li",null,r.a.createElement(o.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/restaurants"},"Menu")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/contact"},"Contact Us"))))}}]),t}(n.Component);var ae=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,null),r.a.createElement(ee.c,null,r.a.createElement(ee.a,{exact:!0,path:"/",component:I}),r.a.createElement(ee.a,{exact:!0,path:"/restaurants/",component:H}),r.a.createElement(ee.a,{exact:!0,path:"/restaurants/:slug",component:X}),r.a.createElement(ee.a,{component:Z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(C,null,r.a.createElement(o.a,null,r.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},31:function(e,t,a){e.exports=a.p+"static/media/room-1.e928a5c4.jpeg"},48:function(e,t){},87:function(e,t,a){e.exports=a.p+"static/media/loading-arrow.e9ea7394.gif"},90:function(e,t,a){e.exports=a.p+"static/media/restaurant1.4da3cccc.jpeg"},99:function(e,t,a){e.exports=a(198)}},[[99,1,2]]]);
//# sourceMappingURL=main.2041c5cc.chunk.js.map